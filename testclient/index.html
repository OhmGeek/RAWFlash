<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="w3.css" />
    <style>
    .canvas-container {
              background-color: black;
              overflow-x: scroll;
              overflow-y: scroll;
              width: 100%;
              height: 84.5%;
              margin-top: 20px;
    }
    </style>
  </head>
  <body>
    <div class="w3-container w3-deep-purple w3-center">
      <h1>RAWFlash</h1>
    </div>

    <div class="w3-sidebar w3-bar-block w3-card w3-animate-left" style="display:none" id="mySidebar">


    </div>

    <div class="w3-main" id="main">
      <div class="w3-teal">
        <button class="w3-button w3-teal w3-xlarge" id="openNav" onclick="w3_open()">&#9776;</button>
        <div class="w3-container">
          <div class="canvas-container">
              <canvas id="myCanvas">
              </canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- <div class="controls">
      <label for="#exposure">Exposure</label>
      <input type="number" id="exposure"></input>
      <label for="#histogram-eq">Histogram Equalization</label>
      <input type="checkbox" id="histogram-eq"></input>
      <label for="#mean-blur-on">Mean Blur on?</label>
      <input type="checkbox" id="mean-blur-on"></input>
      <label for="#mean-blur-kernel">Mean Blur Kernel</label>
      <input type="number" id="mean-blur-kernel"></input>
      <button onclick="setSettingsAndUpdate()">Update</button>
    </div> -->

    <!-- Now define the templates for the sidebar -->
    <template id="sidebar-main">
      <button class="w3-bar-item w3-button w3-large" onclick="w3_close()">Close &times;</button>
      <button class="w3-bar-item w3-button" onclick="display_sidebar_preset('exposure')">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M15 17v2h2v-2h2v-2h-2v-2h-2v2h-2v2h2zm5-15H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM5 5h6v2H5V5zm15 15H4L20 4v16z"/>
        </svg>
        Exposure
      </button>
      <button class="w3-bar-item w3-button" onclick="display_sidebar_preset('colour')">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.55s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
        </svg>
        Colour Adjustment
      </button>
      <button class="w3-bar-item w3-button" onclick="display_sidebar_preset('automatic')">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M9 3L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2h-3.17L15 3H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-55zm0-1l1.25-2.75L16 13l-2.75-1.25L12 9l-1.25 2.75L8 13l2.75 1.25z"/>
        </svg>
        Auto Enhance
      </button>
      <button class="w3-bar-item w3-button" onclick="display_sidebar_preset('export')">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/>
        </svg>
        Save/Export
      </button>
    </template>

    <template id="sidebar-exposure">
      <button class="w3-bar-item w3-button w3-large w3-dark-gray" onclick="w3_close()">
        Close &times;
      </button>
      <button class="w3-bar-item w3-button w3-large w3-gray" onclick="display_sidebar_preset('main')">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
          <path d="M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z"/>
        </svg>
        Back
        <span style="padding-left: 120px; font-weight: bold;">
          Exposure
        </span>
      </button>
      <div class="w3-bar-item w3-button w3-large w3-gray">
        <label for="exposureValue">Exposure: </label>
        <input id="exposureValue" type="numeric" step=0.1 onchange="setProperty('exposure', this.value)" />
      </div>
    </template>

    <template id="sidebar-colour">
      <button class="w3-bar-item w3-button w3-large w3-dark-gray" onclick="w3_close()">
        Close &times;
      </button>
      <button class="w3-bar-item w3-button w3-large w3-gray" onclick="display_sidebar_preset('main')">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
          <path d="M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z"/>
        </svg>
        Back
        <span style="padding-left: 120px; font-weight: bold;">
          Colour Adjustment
        </span>
      </button>
    </template>

    <template id="sidebar-auto">
      <button class="w3-bar-item w3-button w3-large w3-dark-gray" onclick="w3_close()">
        Close &times;
      </button>
      <button class="w3-bar-item w3-button w3-large w3-gray" onclick="display_sidebar_preset('main')">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
          <path d="M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z"/>
        </svg>
        Back
        <span style="padding-left: 120px; font-weight: bold;">
          Auto Enhance
        </span>
      </button>
    </template>

    <template id="sidebar-export">
      <button class="w3-bar-item w3-button w3-large w3-dark-gray" onclick="w3_close()">
        Close &times;
      </button>
      <button class="w3-bar-item w3-button w3-large w3-gray" onclick="display_sidebar_preset('main')">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
          <path d="M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z"/>
        </svg>
        Back
        <span style="padding-left: 120px; font-weight: bold;">
          Save/Export
        </span>
      </button>
    </template>
    <!-- Include JavaScript -->
    <script src="/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="/node_modules/socket.io-client/dist/socket.io.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
